<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Havannah Game</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        canvas {
            border: 2px solid black;
            margin-top: 20px;
        }

        #currentTurn {
            font-size: 20px;
            margin-bottom: 10px;
        }

        #winner {
            font-size: 24px;
            color: green;
        }

        /* Adjust canvas to be centered and responsive */
        #gameCanvas {
            display: block;
            margin: 0 auto;
        }

        .canvas-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }

        #gameTable {
            margin-top: 20px;
            width: 100%;
            text-align: center;
        }

        #gameTable td {
            padding: 5px;
            border: 1px solid #ccc;
            width: 30px;
            height: 30px;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6244557364993858"
    crossorigin="anonymous"></script>
</head>
<body class="bg-light">

    <div class="container mt-1">
        <div class="row">
            <!-- First part (3 parts width) -->
            <div class="col-lg-4">
                <div class="card shadow p-4">
                    <div class="card-body text-center">
                        <img src="logo.png" height=100 alt="logo"> 
                        <h2 class="mb-4">Havannah Game</h2>
                        <p class="mb-4 text-start">Player 1 is always human. Choose an opponent type and difficulty to practice laddering up. The AI understands the official Havannah win rules (ring, bridge, fork) and plays on the same logic as the Python engine.
                            <br/><br/>
                            <strong>How to play:</strong><br/>
                            Each player tries to form a <em>bridge</em> (two corners), <em>fork</em> (three edges) or <em>ring</em> while denying the opponent. Use hints to learn new patterns or bump the difficulty for a challenge.
                        </p>

                        <div class="mb-3">
                            <label for="sizeSelect" class="form-label" hidden>Select Board Size:</label>
                            <select id="sizeSelect" class="form-select" hidden>
                                <option value="4">4</option>
                                <option value="6">6</option>
                                <option value="8">8</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="modeSelect" class="form-label">Mode:</label>
                            <select id="modeSelect" class="form-select">
                                <option value="standard" selected>Standard Match</option>
                                <option value="tutorial">Tutorial Lessons</option>
                            </select>
                        </div>

                        <div class="mb-3" id="tutorialControls" style="display:none;">
                            <label for="tutorialSelect" class="form-label">Tutorial Lesson:</label>
                            <select id="tutorialSelect" class="form-select">
                                <option value="bridge-basics">Bridge Basics</option>
                                <option value="fork-basics">Fork Foundations</option>
                                <option value="ring-setup">Ring Awareness</option>
                            </select>
                            <div id="tutorialObjective" class="alert alert-info mt-2 small"></div>
                        </div>

                        <div class="mb-3" id="opponentControls">
                            <label for="player2Type" class="form-label">Opponent:</label>
                            <select id="player2Type" class="form-select">
                                <option value="human">Human</option>
                                <option value="computer" selected>Computer</option>
                            </select>
                        </div>

                        <div class="mb-3" id="difficultyControls">
                            <label for="difficultySelect" class="form-label">Difficulty:</label>
                            <select id="difficultySelect" class="form-select">
                                <option value="easy">Easy</option>
                                <option value="medium" selected>Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>

                        <div class="d-grid gap-2">
                            <button id="startGameBtn" class="btn btn-primary">Start / Reset</button>
                            <button id="hintBtn" class="btn btn-outline-secondary">Hint For Player 1</button>
                            <button id="clearHintBtn" class="btn btn-outline-secondary">Clear Hint</button>
                        </div>

                        <div id="helperMessage" class="mt-3 text-muted small"></div>
                        <div class="form-check form-switch mt-3">
                            <input class="form-check-input" type="checkbox" id="analysisToggle">
                            <label class="form-check-label" for="analysisToggle">Analysis overlay (click any stone to inspect)</label>
                        </div>
                        <div id="analysisSummary" class="alert alert-secondary small mt-2" style="display:none;"></div>

                        <div id="gameStatus" class="mt-4">
                            <div id="currentTurn" class="mb-2">Current Turn: Player 1</div>
                            <div>Player 1 (Yellow) Time Remaining: <span id="player1Time">5:00</span></div>
                            <div>Player 2 (Red) Time Remaining: <span id="player2Time">5:00</span></div>
                            <div id="winner" class="mt-2"></div>
                        </div>

                        <div class="mt-4">
                            <h5 class="text-start">Move History</h5>
                            <ol id="moveHistory" class="list-group list-group-numbered small text-start"></ol>
                        </div>

                        <div class="mt-4 d-grid gap-2">
                            <button id="resetProgressBtn" class="btn btn-outline-danger btn-sm">Reset Progress</button>
                        </div>

                        <div class="mt-4">
                            <h5 class="text-start">Match Stats</h5>
                            <ul id="matchStats" class="list-group small text-start">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Rounds Played <span class="badge bg-secondary rounded-pill" id="statsRounds">0</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Player 1 Wins <span class="badge bg-warning text-dark rounded-pill" id="statsP1Wins">0</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Opponent Wins <span class="badge bg-danger rounded-pill" id="statsP2Wins">0</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Ties <span class="badge bg-info text-dark rounded-pill" id="statsTies">0</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Fastest Win <span class="badge bg-success rounded-pill" id="statsFastest">â€”</span>
                                </li>
                            </ul>
                        </div>

                        <div class="mt-4">
                            <h5 class="text-start">Achievements</h5>
                            <ul id="achievementList" class="list-group small text-start">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    First Bridge Victory <span class="badge rounded-pill" data-achievement="bridge">Locked</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    First Fork Victory <span class="badge rounded-pill" data-achievement="fork">Locked</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    First Ring Victory <span class="badge rounded-pill" data-achievement="ring">Locked</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Hat-trick (3 wins in a row) <span class="badge rounded-pill" data-achievement="streak">Locked</span>
                                </li>
                            </ul>
                        </div>

                        <!-- Table to display the board -->
                        <table id="gameTable" class="table table-bordered mt-3"></table>
                    </div>
                </div>
            </div>

            <!-- Second part (6 parts width) -->
            <div class="col-lg-8">
                <div class="canvas-container">
                    <canvas id="gameCanvas"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-S5CYX1SZD6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-S5CYX1SZD6');
  gtag('config', 'G-S5CYX1SZD6', {
    'cookie_domain': 'auto' // Automatically detect the correct domain, or set your domain explicitly
  });
</script>

    
    <!-- Your existing game scripts -->
    <script src="../havannah-rules.js"></script>
    <script src="ai.js"></script> <!-- Include ai.js for AI functionality -->
    <script src="ai2.js"></script>
    <script src="script.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6244557364993858"
    crossorigin="anonymous"></script>
</body>
</html>
